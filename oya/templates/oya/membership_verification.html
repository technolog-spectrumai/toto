{% extends "oya/base.html" %}
{% load static %}

{% block title %}Verify Membership | {{ platform.site_name }}{% endblock %}

{% block content %}
<section
  :class="darkMode ? 'bg-primary-bg-dark text-text-main-dark' : 'bg-primary-bg-light text-text-main-light'"
  class="flex items-center justify-center px-6 py-16 min-h-screen transition-colors duration-300">

  <form method="POST" action="{% url 'membership_verification' username %}"
        :class="darkMode
          ? 'bg-bubble-bg-dark border-accent-1 text-text-main-dark'
          : 'bg-bubble-bg-light border-accent-2 text-text-main-light'"
        class="w-full max-w-md p-6 rounded-lg shadow-md border space-y-6 transition-colors duration-300">

    {% csrf_token %}
    {% if error %}
      <p class="text-sm text-warn-light dark:text-warn-dark font-medium text-center">{{ error }}</p>
    {% endif %}
    {% if message %}
      <p class="text-sm text-green-500 font-medium text-center">{{ message }}</p>
    {% endif %}

    <h2 :class="darkMode ? 'text-accent-dark' : 'text-accent-light'" class="text-xl font-bold text-center">
      Verify Application for <span class="font-mono">{{ username }}</span>
    </h2>


    <div class="space-y-2">
      {{ form.code.label_tag }}
      {{ form.code }}
    </div>

    <button type="submit"
            :class="darkMode
              ? 'bg-accent-dark text-primary-bg-dark'
              : 'bg-accent-light text-primary-bg-light'"
            class="w-full py-2 font-semibold rounded hover:opacity-90 transition text-sm">
      Submit Code
    </button>

  </form>
</section>
{% endblock %}
