{% extends "kodama/frame.html" %}
{% load theme_tags %}

{% block title %}Source: {{ source.title }}{% endblock %}

{% block content %}
<div
  class="w-full max-w-3xl mx-auto my-12 shadow-lg rounded-lg overflow-hidden transition-colors"
  :class="darkMode
    ? '{{ theme|theme_class:"source_detail_box:dark" }}'
    : '{{ theme|theme_class:"source_detail_box:light" }}'">

  <div class="px-6 py-6">
    <h1
      class="text-2xl font-bold mb-4 text-center transition-colors"
      :class="darkMode
        ? '{{ theme|theme_class:"section_title:dark" }}'
        : '{{ theme|theme_class:"section_title:light" }}'">
      {{ source.title }}
    </h1>

    <dl
      class="divide-y transition-colors"
      :class="darkMode
        ? '{{ theme|theme_class:"source_divider:dark" }}'
        : '{{ theme|theme_class:"source_divider:light" }}'">

      <!-- Title -->
      <div class="py-3">
        <dt
          class="text-sm font-medium transition-colors"
          :class="darkMode
            ? '{{ theme|theme_class:"source_field_label:dark" }}'
            : '{{ theme|theme_class:"source_field_label:light" }}'">
          Title
        </dt>
        <dd
          class="mt-1 text-lg transition-colors"
          :class="darkMode
            ? '{{ theme|theme_class:"source_field_value:dark" }}'
            : '{{ theme|theme_class:"source_field_value:light" }}'">
          {{ source.title }}
        </dd>
      </div>

      <!-- Type -->
      <div class="py-3">
        <dt
          class="text-sm font-medium transition-colors"
          :class="darkMode
            ? '{{ theme|theme_class:"source_field_label:dark" }}'
            : '{{ theme|theme_class:"source_field_label:light" }}'">
          Type
        </dt>
        <dd
          class="mt-1 text-lg transition-colors"
          :class="darkMode
            ? '{{ theme|theme_class:"source_field_value:dark" }}'
            : '{{ theme|theme_class:"source_field_value:light" }}'">
          {{ source.type }}
        </dd>
      </div>

      <!-- Creator -->
      {% if source.creator %}
      <div class="py-3">
        <dt
          class="text-sm font-medium transition-colors"
          :class="darkMode
            ? '{{ theme|theme_class:"source_field_label:dark" }}'
            : '{{ theme|theme_class:"source_field_label:light" }}'">
          Creator
        </dt>
        <dd
          class="mt-1 text-lg transition-colors"
          :class="darkMode
            ? '{{ theme|theme_class:"source_field_value:dark" }}'
            : '{{ theme|theme_class:"source_field_value:light" }}'">
          {{ source.creator }}
        </dd>
      </div>
      {% endif %}

      <!-- Published -->
      {% if source.publication_date %}
      <div class="py-3">
        <dt
          class="text-sm font-medium transition-colors"
          :class="darkMode
            ? '{{ theme|theme_class:"source_field_label:dark" }}'
            : '{{ theme|theme_class:"source_field_label:light" }}'">
          Published
        </dt>
        <dd
          class="mt-1 text-lg transition-colors"
          :class="darkMode
            ? '{{ theme|theme_class:"source_field_value:dark" }}'
            : '{{ theme|theme_class:"source_field_value:light" }}'">
          {{ source.publication_date|date:"F j, Y" }}
        </dd>
      </div>
      {% endif %}

      <!-- URL -->
      {% if source.url %}
      <div class="py-3">
        <dt
          class="text-sm font-medium transition-colors"
          :class="darkMode
            ? '{{ theme|theme_class:"source_field_label:dark" }}'
            : '{{ theme|theme_class:"source_field_label:light" }}'">
          URL
        </dt>
        <dd class="mt-1">
          <a
            href="{{ source.url }}"
            target="_blank"
            rel="noopener"
            class="font-medium hover:underline transition-colors"
            :class="darkMode
              ? '{{ theme|theme_class:"source_link:dark" }}'
              : '{{ theme|theme_class:"source_link:light" }}'">
            {{ source.url }}
          </a>
        </dd>
      </div>
      {% endif %}

    </dl>
  </div>

  <div
    class="px-6 py-4 border-t transition-colors flex justify-between"
    :class="darkMode
      ? '{{ theme|theme_class:"source_footer_border:dark" }}'
      : '{{ theme|theme_class:"source_footer_border:light" }}'">
    <a
      href="{% url 'source_list' site.slug %}"
      class="inline-flex items-center gap-2 px-4 py-2 rounded-md font-medium transition-colors"
      :class="darkMode
        ? '{{ theme|theme_class:"source_back_button:dark" }}'
        : '{{ theme|theme_class:"source_back_button:light" }}'">
      <i class="fas fa-arrow-left"></i>
      Back
    </a>
  </div>
</div>
{% endblock %}
